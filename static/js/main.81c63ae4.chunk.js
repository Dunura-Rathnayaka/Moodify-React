(this.webpackJsonpmoodify=this.webpackJsonpmoodify||[]).push([[0],{25:function(e,n,t){e.exports=t(38)},33:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a,r=t(1),l=t.n(r),i=t(17),c=t.n(i),o=(t(33),t(5)),s=t(6);function m(){return l.a.createElement(d,null,l.a.createElement("img",{src:"./images/MOODIFY large.png",alt:"MOODIFY"}),l.a.createElement("button",{onClick:()=>{window.location.href="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("466e1b1dc6774871af909df19197438c","&redirect_uri=").concat("http://localhost:3000/","&scope=").concat(["user-read-email","user-read-private","user-modify-playback-state","user-read-playback-state","user-read-currently-playing","user-read-recently-played","user-read-playback-position","user-top-read"].join(" "),"&response_type=token&show_daialog=true")}},"Connect Spotify"))}const d=s.a.div(a||(a=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  width: 100vw;\n  background-color: #A24502;\n  gap: 5rem;\n\n  img {\n    height: 80vh;\n  }\n\n  button {\n    padding: 1rem 5rem;\n    border-radius: 5rem;\n    border: none;\n    background-color: black;\n    color: #FFA700;\n    font-size: 1.4rem;\n    cursor: pointer;\n  }\n"]))),u=Object(r.createContext)(),p=e=>{let{children:n,initialState:t,reducer:a}=e;return l.a.createElement(u.Provider,{value:Object(r.useReducer)(a,t)},n)},g=()=>Object(r.useContext)(u),y="SET_TOKEN",f="SET_PLAYLISTS",h="SET_USER",E="SET_PLAYLIST",v="SET_PLAYING",b="SET_PLAYER_STATE",k="SET_PLAYLIST_ID";var x,w=t(20),_=t(14),N=t(39);function j(){const[{token:e,playlists:n},t]=g();Object(r.useEffect)(()=>{(async()=>{const n=await N.a.get("https://api.spotify.com/v1/me/playlists",{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}),{items:a}=n.data,r=a.map(e=>{let{name:n,id:t}=e;return{name:n,id:t}});t({type:f,playlists:r})})()},[e,t]);return l.a.createElement(O,null,l.a.createElement("ul",null,n.map(e=>{let{name:n,id:a}=e;return l.a.createElement("li",{key:a,onClick:()=>{t({type:k,selectedPlaylistId:a})}},n)})))}const O=s.a.div(x||(x=Object(o.a)(["\nheight: 100%;\noverflow: hidden;\nul {\n    list-style-type: none;\n    display: flex;\n    flex-direction: column;\n    gap: 0.8rem;\n    padding: 1rem;\n    height: 52vh;\n    max-height: 100%;\n    overflow: auto;\n    &::-webkit-scrollbar{\n        width: 0.7rem;\n        &-thumb {\n            background-color: rgba(255, 255, 255, 0.6);\n        }\n    }\n    li {\n      display: flex;\n      gap: 1rem;\n      cursor: pointer;\n      transition: 0.3s ease-in-out;\n      &:hover{\n        color: White;\n        }\n      }\n    }\n    "])));var S;function P(){return l.a.createElement(T,null,l.a.createElement("div",{className:"top__links"},l.a.createElement("div",{className:"logo"},l.a.createElement("img",{src:"./images/MOODIFY Body.svg",alt:"MOODIFY body"})),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(_.a,null),l.a.createElement("span",null,"Home")),l.a.createElement("li",null,l.a.createElement(_.c,null),l.a.createElement("span",null,"Search")),l.a.createElement("li",null,l.a.createElement(w.a,null),l.a.createElement("span",null,"Your Library")),l.a.createElement("li",null,l.a.createElement(_.b,null),l.a.createElement("span",null,"Mood")))),l.a.createElement(j,null))}const T=s.a.div(S||(S=Object(o.a)(["\nbackground: linear-gradient(transparent, rgba(236,88,0,1)); \nbackground-color: rgb(0, 0, 0);\ncolor: #2AAA8A;\ndisplay: flex;\nflex-direction: column;\nheight: 100%;\nwidth: 100%;\n.top__links {\n  display: flex;\n  flex-direction: column;\n.logo {\n  text-align: center;\n  margin: 1rem 0;\n  img{\n    max-inline-size: 100%;\n    block-size: auto;\n  }\n}\nul {\n  list-style-type: none;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 1rem;\n  li {\n    display: flex;\n    gap: 1rem;\n    cursor: pointer;\n    transition: 0.3s ease-in-out;\n    &:hover{\n      color: White;\n      }\n    }\n  }\n}\n"])));var A,I=t(10),B=t(21);function C(e){let{navBackground:n}=e;const[{userInfo:t}]=g();return l.a.createElement(z,{navBackground:n},l.a.createElement("div",{className:"search__bar"},l.a.createElement(B.a,null),l.a.createElement("input",{type:"text",placeholder:"Artists, Songs, or Podcasts"})),l.a.createElement("div",{className:"avatar"},l.a.createElement("a",{href:"#"},l.a.createElement(I.c,null),l.a.createElement("span",null,null===t||void 0===t?void 0:t.userName," "))))}const z=s.a.div(A||(A=Object(o.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\npadding: 2rem;\nposition: sticky;\ntop: 0;\ntransition: 0.3s ease-in-out;\nbackground-color: ",";\n.search__bar {\n    background-color: white;\n    width: 30%;\n    padding: 0.4rem 1rem;\n    border-radius: 2rem;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    input {\n        border: none;\n        height: 2rem;\n        width: 100%;\n        &:focus {\n            outline: none;\n        }\n    }\n}  \n.avatar {\n    background-color: black;\n    padding: 0.3rem 0.4rem;\n    padding-right: 1rem;\n    border-radius: 2rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    a {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        gap: 0.5rem;\n        text-decoration: none;\n        color: white;\n        font-weight: bold;\n        svg {\n            font-size: 1.3rem;\n            background-color: #282828;\n            padding: 0.2rem;\n            border-radius: 1rem;\n            color: #c7c5c5;\n        }\n\n    }\n}\n"])),e=>{let{navBackground:n}=e;return n?"rgba(0,0,0,0.7)":"none"});var L,Y=t(22);function M(e){let{headerBackground:n}=e;const[{token:t,selectedPlaylistId:a,selectedPlaylist:i},c]=g();Object(r.useEffect)(()=>{a&&(async()=>{console.log(a);try{const n=await N.a.get("https://api.spotify.com/v1/playlists/".concat(a),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}});if(n.data){var e;const t={id:n.data.id,uri:n.data.uri,name:n.data.name,description:n.data.description.startsWith("<a")?"":n.data.description,image:(null===(e=n.data.images[0])||void 0===e?void 0:e.url)||"",tracks:n.data.tracks.items.map(e=>{var n;let{track:t}=e;return{id:t.id,name:t.name,artists:t.artists.map(e=>e.name),image:(null===(n=t.album.images[2])||void 0===n?void 0:n.url)||"",duration:t.duration_ms,album:t.album.name,context_uri:t.album.uri,track_number:t.track_number}})};c({type:E,selectedPlaylist:t})}else console.error("No data in response")}catch(n){console.error("Error fetching playlist",n)}})()},[t,c,a]);return l.a.createElement(F,{headerBackground:n},i&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"playlist"},l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:i.image,alt:"selectedplaylists"})),l.a.createElement("div",{className:"details"},l.a.createElement("span",{className:"type"},"PLAYLIST"),l.a.createElement("h1",{className:"title"},i.name),l.a.createElement("p",{className:"description"},i.description))),l.a.createElement("div",{className:"list"},l.a.createElement("div",{className:"header__row"},l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"#")),l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"TITLE")),l.a.createElement("div",{className:"col"},l.a.createElement("span",null,"ALBUM")),l.a.createElement("div",{className:"col"},l.a.createElement("span",null,l.a.createElement(Y.a,null)))),l.a.createElement("div",{className:"tracks"},i.tracks.map((e,n)=>{let{id:a,name:r,artists:i,image:o,duration:s,album:m,context_uri:d,track_number:u}=e;return l.a.createElement("div",{className:"row",key:a,onClick:()=>(async(e,n,a,r,l,i)=>{try{if(204===(await N.a.put("https://api.spotify.com/v1/me/player/play",{context_uri:l,offset:{position:i-1},position_ms:0},{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).status){c({type:v,currentlyPlaying:{id:e,name:n,artists:a,image:r}}),c({type:b,playerState:!0})}else c({type:b,playerState:!0})}catch(o){console.error("Error playing track",o)}})(a,r,i,o,d,u)},l.a.createElement("div",{className:"col"},l.a.createElement("span",null,n+1)),l.a.createElement("div",{className:"col detail"},l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:o,alt:"track"})),l.a.createElement("div",{className:"info"},l.a.createElement("span",{className:"name"},r),l.a.createElement("span",{className:"artists"},i.join(", ")))),l.a.createElement("div",{className:"col"},l.a.createElement("span",{className:"album"},m)),l.a.createElement("div",{className:"col"},l.a.createElement("span",null,(e=>{const n=Math.floor(e/6e4),t=(e%6e4/1e3).toFixed(0);return n+":"+(t<10?"0":"")+t})(s)," ")))})))))}const F=s.a.div(L||(L=Object(o.a)(["\n\n.playlist {\n  margin: 0 2rem;\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n  .image {\n    img {\n      height: 15rem;\n      box-shadow: rgba(0, 0, 0, 0.25) 0px 25px;\n    }\n  }\n.details {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  color: #e0dede;\n  .title {\n    color: white;\n    font-size: 4rem;\n    }\n  }\n}\n.list { \n  .header__row {\n    display: grid;\n    grid-template-columns: 0.3fr 3fr 2fr 0.1fr;\n    color: #dddcdc;\n    margin: 1rem 0 0 0 ;\n    position: sticky;\n    top: 15vh;\n    padding: 1rem 3rem;\n    transition: 0.3s ease-in-out;\n    background-color: ",";\n  }\n  .tracks {\n    margin: 0 2rem;\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 5rem;\n    .row {\n      padding: 0.5rem 1rem;\n      display: grid;\n      grid-template-columns: 0.3fr 3.1fr 1.9fr 0.1fr;\n      &:hover {\n        background-color:rgba(0, 0, 0, 0.7);\n      }\n      .col {\n        display: flex;\n        align-items: center;\n        color: #dddcdc;\n        img {\n          height: 40px;\n        }\n      }\n      .detail {\n        display: flex;\n        gap: 1rem;\n        .info {\n          display: flex; \n          flex-direction: column;\n        }\n      }\n    }\n  }\n}\n"])),e=>{let{headerBackground:n}=e;return n?"#000000dc":"none"});var D;function R(){const[{token:e,currentlyPlaying:n},t]=g();return console.log("component",n),Object(r.useEffect)(()=>{(async()=>{const n=await N.a.get("https://api.spotify.com/v1/me/player/currently-playing",{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}});if(""!==n.data){const{item:e}=n.data,a={id:e.id,name:e.name,artists:e.artists.map(e=>e.name),image:e.album.images[2].url};t({type:v,currentlyPlaying:a})}})()},[e,t]),l.a.createElement(W,null,n&&l.a.createElement("div",{className:"track"},l.a.createElement("div",{className:"track__image"},l.a.createElement("img",{src:n.image,alt:"currentlyPlaying"})),l.a.createElement("div",{className:"track__info"},l.a.createElement("h4",null,n.name),l.a.createElement("h6",null,n.artists.join(", ")))))}const W=s.a.div(D||(D=Object(o.a)(["\ndisplay: flex;\n  align-items: center;\n  .track {\n    display: flex;\n    align-items: center;\n    .track__image {\n      margin-right: 1rem;\n      img {\n        height: 50px;\n        width: 50px;\n        object-fit: cover;\n      }\n    }\n    .track__info {\n      display: flex;\n      flex-direction: column;\n      h4{\n      margin: 0;\n        color: white; /* Ensure text is visible */\n      } \n      h6 {\n       margin: 0;\n           color: grey;\n        } \n    }\n  }\n"])));var G,U=t(15),J=t(23);function Q(){const[{token:e,playerState:n,selectedPlaylist:t},a]=g(),r=async n=>{if(t){await N.a.post("https://api.spotify.com/v1/me/player/".concat(n),{context_uri:t.uri},{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}});const r=await N.a.get("https://api.spotify.com/v1/me/player/currently-playing",{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}});if(""!==r.data){const{item:e}=r.data,n={id:e.id,name:e.name,artists:e.artists.map(e=>e.name),image:e.album.images[2].url||""};a({type:v,currentlyPlaying:n})}else a({type:v,currentlyPlaying:null})}},i=async()=>{const t=n?"pause":"play";await N.a.put("https://api.spotify.com/v1/me/player/".concat(t),{},{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}),a({type:b,playerState:!n})};return l.a.createElement(H,null,l.a.createElement("div",{className:"shuffle"},l.a.createElement(U.c,null)),l.a.createElement("div",{className:"previous"},l.a.createElement(I.b,{onClick:()=>r("previous")})),l.a.createElement("div",{className:"state"},n?l.a.createElement(U.a,{onClick:i}):l.a.createElement(U.b,{onClick:i})),l.a.createElement("div",{className:"next"},l.a.createElement(I.a,{onClick:()=>r("next")})),l.a.createElement("div",{className:"repeat"},l.a.createElement(J.a,null)))}const H=s.a.div(G||(G=Object(o.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 2rem;\n    svg {\n        color: #b3b3b3;\n        transition: 0.2s ease-in-out;\n        &:hover {\n            color: white;\n        } \n    }\n    .state {\n        svg {\n            color: white;\n        }\n    }\n    .previous, .next, .state {\n        font-size: 2rem;\n    }\n"])));var K;function Z(){const[{token:e}]=g();return l.a.createElement(q,null,l.a.createElement("input",{type:"range",min:0,max:100,onMouseUp:n=>(async n=>{await N.a.put("https://api.spotify.com/v1/me/player/volume",{},{params:{volume_percent:parseInt(n.target.value)},headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}})})(n)}))}const q=s.a.div(K||(K=Object(o.a)(["\n    display: flex;\n    justify-content: flex-end;\n    align-content: center;\n    input {\n        width: 15rem;\n        border-radius: 2rem;\n        height: 0.5rem;\n        }\n"])));var V;function X(){return l.a.createElement($,null,l.a.createElement(R,null),l.a.createElement(Q,null),l.a.createElement(Z,null))}const $=s.a.div(V||(V=Object(o.a)(["\nbackground: linear-gradient(transparent, rgba(0,0,0,1)); \nbackground-color: #181818; \nheight: 50%; \nwidth: 100%; \nborder-top:1px solid #282828; \ndisplay: grid; \ngrid-template-columns: 1fr 2fr 1fr; \nalign-items: center; \njustify-content: center; \npadding: 0 1rem;\n"])));var ee;function ne(){const[{token:e},n]=g(),t=Object(r.useRef)(),[a,i]=Object(r.useState)(!1),[c,o]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{(async()=>{const{data:t}=await N.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}),a={userId:t.id,userName:t.display_name};n({type:h,userInfo:a})})()},[n,e]),l.a.createElement(te,null,l.a.createElement("div",{className:"spotify__body"},l.a.createElement(P,null),l.a.createElement("div",{className:"body",ref:t,onScroll:()=>{t.current.scrollTop>=30?i(!0):i(!1),t.current.scrollTop>=268?o(!0):o(!1)}},l.a.createElement(C,{navBackground:a}),l.a.createElement("div",{className:"body__contents"},l.a.createElement(M,{headerBackground:c})))),l.a.createElement("div",{className:"spotify__footer"},l.a.createElement(X,null)))}const te=s.a.div(ee||(ee=Object(o.a)(["\n  max-width: 100vw;\n  max-height: 100vh;\n  overflow: hidden;\n  display: grid;\n  grid-template-rows: 85vh 15vw;\n\n  .spotify__body {\n    display: grid;\n    grid-template-columns: 15vw 85vw;\n    height: 100%;\n    width: 100%;\n    background: linear-gradient(transparent, rgba(88, 24, 69, 1));\n    background-color: rgb(199, 0, 57);\n  }\n\n  .body {\n    height: 100%;\n    width: 100%;\n    overflow: auto;\n\n    &::-webkit-scrollbar {\n      width: 0.7rem;\n\n      &-thumb {\n        background-color: rgba(255, 255, 255, 0.6);\n      }\n    }\n  }\n"])));function ae(){const[{token:e},n]=g();return Object(r.useEffect)(()=>{const e=window.location.hash;if(e){const t=e.substring(1).split("&")[0].split("=")[1];n({type:y,token:t})}},[e,n]),l.a.createElement("div",null," ",e?l.a.createElement(ne,null):l.a.createElement(m,null))}var re=(e,n)=>{switch(n.type){case y:return{...e,token:n.token};case f:return{...e,playlists:n.playlists};case h:return{...e,userInfo:n.userInfo};case E:return{...e,selectedPlaylist:n.selectedPlaylist};case v:return{...e,currentlyPlaying:n.currentlyPlaying};case b:return{...e,playerState:n.playerState};case k:return{...e,selectedPlaylistId:n.selectedPlaylistId};default:return e}};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p,{initialState:{token:null,playlists:[],userInfo:null,selectedPlaylistId:"7vGgLQ7QTBWZGvyv88Mu25",selectedPlaylist:null,currentlyPlaying:null,playerState:!1},reducer:re},l.a.createElement(ae,null))))}},[[25,1,2]]]);
//# sourceMappingURL=main.81c63ae4.chunk.js.map